<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENTIENT110 - AI Financial Sentiment Intelligence</title>
    <meta name="description"
        content="Real-time AI-powered stock sentiment analysis using news, social media, and advanced NLP.">

    <!-- TailwindCSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        navy: {
                            900: '#0D1442',
                            800: '#1A237E',
                            700: '#283593',
                            600: '#3949AB'
                        },
                        gold: {
                            500: '#F39C12',
                            400: '#F1C40F',
                            600: '#D68910'
                        }
                    }
                }
            }
        }
    </script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        .glow {
            box-shadow: 0 0 40px rgba(243, 156, 18, 0.15);
        }

        .gradient-border {
            background: linear-gradient(135deg, rgba(243, 156, 18, 0.3), transparent);
        }

        @keyframes pulse-glow {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(243, 156, 18, 0.2);
            }

            50% {
                box-shadow: 0 0 40px rgba(243, 156, 18, 0.4);
            }
        }

        .pulse-glow {
            animation: pulse-glow 2s infinite;
        }

        @keyframes slide-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-up {
            animation: slide-up 0.5s ease-out;
        }
    </style>
</head>

<body class="bg-gradient-to-br from-navy-900 via-navy-800 to-navy-900 min-h-screen text-white">

    <!-- Header -->
    <header class="border-b border-white/10">
        <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div
                    class="w-10 h-10 rounded-xl bg-gradient-to-br from-gold-500 to-gold-600 flex items-center justify-center">
                    <span class="text-xl">üìà</span>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-gold-500">SENTIENT110</h1>
                    <p class="text-xs text-white/50">AI Financial Intelligence</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <span id="apiStatus" class="text-xs px-3 py-1 rounded-full bg-green-500/20 text-green-400">
                    ‚óè Live API
                </span>
                <a href="https://github.com/BEAST04289/Sentinent110" target="_blank"
                    class="text-white/60 hover:text-white transition">
                    GitHub
                </a>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-6 py-8">

        <!-- Hero Section -->
        <section class="text-center py-12">
            <h2 class="text-4xl md:text-5xl font-black mb-4">
                <span class="text-white">Real-Time</span>
                <span class="text-gold-500"> Sentiment Analysis</span>
            </h2>
            <p class="text-white/60 text-lg max-w-2xl mx-auto mb-8">
                Powered by NewsAPI, Twitter/X, and GPT-4o-mini. Get instant BUY/SELL/HOLD signals backed by AI.
            </p>

            <!-- Search Box -->
            <div class="flex flex-col sm:flex-row items-center justify-center gap-4 max-w-xl mx-auto">
                <input type="text" id="tickerInput" placeholder="Enter ticker (e.g., TSLA)" maxlength="5" class="w-full sm:w-64 px-6 py-4 rounded-xl bg-white/10 border border-white/20 
                           text-white text-lg font-semibold uppercase text-center
                           focus:outline-none focus:border-gold-500 focus:ring-2 focus:ring-gold-500/20
                           placeholder:text-white/40 placeholder:normal-case placeholder:font-normal">
                <button id="analyzeBtn" onclick="analyze()" class="w-full sm:w-auto px-8 py-4 rounded-xl bg-gradient-to-r from-gold-500 to-gold-600
                           text-white font-bold text-lg
                           hover:shadow-lg hover:shadow-gold-500/25 hover:-translate-y-0.5
                           transition-all duration-200
                           disabled:opacity-50 disabled:cursor-not-allowed">
                    üîç Analyze
                </button>
            </div>
        </section>

        <!-- Loading State -->
        <div id="loading" class="hidden py-16 text-center">
            <div class="w-12 h-12 border-4 border-white/10 border-t-gold-500 rounded-full animate-spin mx-auto mb-4">
            </div>
            <p class="text-white/60">Analyzing sentiment across multiple sources...</p>
        </div>

        <!-- Results Card -->
        <section id="results" class="hidden slide-up">
            <div class="bg-white/5 border border-white/10 rounded-2xl p-8 glow">

                <!-- Ticker Header -->
                <div
                    class="flex flex-col md:flex-row md:items-center md:justify-between mb-8 pb-6 border-b border-white/10">
                    <div>
                        <div class="flex items-center gap-3 mb-2">
                            <h3 id="resultTicker" class="text-4xl font-black">TSLA</h3>
                            <span id="dataSource" class="text-xs px-2 py-1 rounded-full bg-green-500/20 text-green-400">
                                Real Data
                            </span>
                        </div>
                        <p id="resultPrice" class="text-2xl text-white/70">$248.32 <span id="priceChange"
                                class="text-green-400 text-lg">+2.5%</span></p>
                    </div>
                    <div id="signalBadge" class="mt-4 md:mt-0 px-8 py-4 rounded-xl text-2xl font-black text-center">
                        üü¢ STRONG BUY
                    </div>
                </div>

                <!-- Confidence -->
                <div class="mb-8">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-white/60">AI Confidence</span>
                        <span id="confidenceText" class="text-2xl font-bold text-gold-500">89%</span>
                    </div>
                    <div class="h-3 bg-white/10 rounded-full overflow-hidden">
                        <div id="confidenceFill" class="h-full rounded-full transition-all duration-1000 bg-green-500"
                            style="width: 89%"></div>
                    </div>
                </div>

                <!-- Two Column Layout -->
                <div class="grid md:grid-cols-2 gap-6 mb-8">

                    <!-- AI Reasoning -->
                    <div class="bg-white/5 rounded-xl p-6">
                        <h4 class="text-gold-500 font-semibold text-sm uppercase tracking-wider mb-3">üß† AI Reasoning
                        </h4>
                        <p id="reasoningText" class="text-white/80 leading-relaxed">
                            Strong bullish momentum driven by positive news and social sentiment.
                        </p>
                    </div>

                    <!-- Key Insights -->
                    <div class="bg-white/5 rounded-xl p-6">
                        <h4 class="text-gold-500 font-semibold text-sm uppercase tracking-wider mb-3">‚ö° Key Insights
                        </h4>
                        <ul id="keyInsights" class="space-y-2 text-white/80">
                            <li>‚úÖ Strong bullish momentum</li>
                            <li>‚úÖ Positive analyst coverage</li>
                            <li>üìà Volume surge detected</li>
                        </ul>
                    </div>
                </div>

                <!-- Source Breakdown -->
                <div class="bg-white/5 rounded-xl p-6 mb-8">
                    <h4 class="text-gold-500 font-semibold text-sm uppercase tracking-wider mb-4">üìä Sentiment by Source
                    </h4>
                    <div class="grid grid-cols-3 gap-4">
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm">üì∞ News</span>
                                <span id="newsPercent" class="text-green-400 font-semibold">78%</span>
                            </div>
                            <div class="h-2 bg-white/10 rounded-full overflow-hidden">
                                <div id="newsBar" class="h-full bg-green-500 rounded-full" style="width: 78%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm">üê¶ Twitter</span>
                                <span id="twitterPercent" class="text-blue-400 font-semibold">85%</span>
                            </div>
                            <div class="h-2 bg-white/10 rounded-full overflow-hidden">
                                <div id="twitterBar" class="h-full bg-blue-500 rounded-full" style="width: 85%"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm">üí¨ Reddit</span>
                                <span id="redditPercent" class="text-orange-400 font-semibold">92%</span>
                            </div>
                            <div class="h-2 bg-white/10 rounded-full overflow-hidden">
                                <div id="redditBar" class="h-full bg-orange-500 rounded-full" style="width: 92%"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- News Headlines -->
                <div id="newsSection" class="bg-white/5 rounded-xl p-6 mb-8 hidden">
                    <h4 class="text-gold-500 font-semibold text-sm uppercase tracking-wider mb-4">üì∞ Latest Headlines
                    </h4>
                    <ul id="newsList" class="space-y-3 text-white/70 text-sm">
                    </ul>
                </div>

                <!-- Stats & Verify -->
                <div class="flex flex-col md:flex-row items-center justify-between pt-6 border-t border-white/10">
                    <div class="flex gap-8 mb-4 md:mb-0">
                        <div class="text-center">
                            <p id="sourcesCount" class="text-2xl font-bold text-gold-500">156</p>
                            <p class="text-xs text-white/50">Sources</p>
                        </div>
                        <div class="text-center">
                            <p id="sentimentScore" class="text-2xl font-bold text-gold-500">0.85</p>
                            <p class="text-xs text-white/50">Sentiment</p>
                        </div>
                        <div class="text-center">
                            <p id="timestamp" class="text-2xl font-bold text-gold-500">Now</p>
                            <p class="text-xs text-white/50">Analyzed</p>
                        </div>
                    </div>
                    <div class="text-center">
                        <button id="verifyBtn" onclick="verifyOnChain()" class="px-6 py-3 rounded-xl bg-gradient-to-r from-purple-500 to-purple-600
                                   text-white font-semibold
                                   hover:shadow-lg hover:shadow-purple-500/25
                                   transition-all duration-200">
                            üîó Verify on Blockchain
                        </button>
                        <p id="txHash" class="mt-2 text-xs text-white/40 hidden"></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Trending Section -->
        <section class="mt-16">
            <h3 class="text-xl font-bold mb-6 flex items-center gap-2">
                <span class="text-gold-500">üìä</span> Trending Tickers
            </h3>
            <div id="trendingGrid" class="grid grid-cols-2 md:grid-cols-5 gap-4">
                <!-- Populated by JS -->
            </div>
        </section>

        <!-- Monitor110 Comparison -->
        <section class="mt-16 bg-white/5 border border-white/10 rounded-2xl p-8">
            <h3 class="text-xl font-bold mb-6 text-center">
                Why <span class="text-red-400">Monitor110</span> Failed ‚Üí How <span
                    class="text-gold-500">Sentient110</span> Succeeds
            </h3>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-red-500/10 border border-red-500/20 rounded-xl p-6">
                    <h4 class="text-red-400 font-bold mb-4">‚ùå Monitor110 (2008)</h4>
                    <ul class="space-y-2 text-white/70 text-sm">
                        <li>‚Ä¢ Rule-based keyword matching</li>
                        <li>‚Ä¢ Manual data curation</li>
                        <li>‚Ä¢ No social media integration</li>
                        <li>‚Ä¢ Slow processing (hours)</li>
                        <li>‚Ä¢ $20M+ infrastructure costs</li>
                    </ul>
                </div>
                <div class="bg-green-500/10 border border-green-500/20 rounded-xl p-6">
                    <h4 class="text-green-400 font-bold mb-4">‚úÖ Sentient110 (2026)</h4>
                    <ul class="space-y-2 text-white/70 text-sm">
                        <li>‚Ä¢ GPT-4o-mini AI analysis</li>
                        <li>‚Ä¢ Real-time NewsAPI + Twitter</li>
                        <li>‚Ä¢ Multi-source aggregation</li>
                        <li>‚Ä¢ Instant processing (&lt;3 sec)</li>
                        <li>‚Ä¢ ~$0.001 per analysis</li>
                    </ul>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="border-t border-white/10 mt-16 py-8">
        <div class="max-w-7xl mx-auto px-6 text-center text-white/40 text-sm">
            <p>Built for <strong class="text-gold-500">FAIL.exe Hackathon 2026</strong></p>
            <p class="mt-2">"Every Failure Deserves a Second Run"</p>
        </div>
    </footer>

    <script>
        const API_URL = '';
        let currentAnalysis = null;

        // Check API status on load
        document.addEventListener('DOMContentLoaded', async () => {
            loadTrending();
            try {
                const res = await fetch(`${API_URL}/api/health`);
                const data = await res.json();
                const statusEl = document.getElementById('apiStatus');
                if (data.real_api) {
                    statusEl.innerHTML = '‚óè Live API';
                    statusEl.className = 'text-xs px-3 py-1 rounded-full bg-green-500/20 text-green-400';
                } else {
                    statusEl.innerHTML = '‚óã Demo Mode';
                    statusEl.className = 'text-xs px-3 py-1 rounded-full bg-yellow-500/20 text-yellow-400';
                }
            } catch (e) { }
        });

        // Enter key to search
        document.getElementById('tickerInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') analyze();
        });

        async function loadTrending() {
            try {
                const res = await fetch(`${API_URL}/api/trending`);
                const data = await res.json();

                const grid = document.getElementById('trendingGrid');
                grid.innerHTML = data.trending.map(t => `
                    <div onclick="analyzeTicker('${t.ticker}')" 
                         class="bg-white/5 border border-white/10 rounded-xl p-4 cursor-pointer
                                hover:border-gold-500/50 hover:-translate-y-1 transition-all duration-200">
                        <div class="text-lg font-bold">${t.ticker}</div>
                        <div class="text-sm text-white/50">$${t.price?.toFixed(2) || '---'}</div>
                        <span class="inline-block mt-2 px-3 py-1 rounded-full text-xs font-semibold
                                     ${t.signal === 'BUY' ? 'bg-green-500/20 text-green-400' :
                        t.signal === 'SELL' ? 'bg-red-500/20 text-red-400' :
                            'bg-yellow-500/20 text-yellow-400'}">
                            ${t.signal} ${t.confidence}%
                        </span>
                    </div>
                `).join('');
            } catch (err) {
                console.error('Failed to load trending:', err);
            }
        }

        function analyzeTicker(ticker) {
            document.getElementById('tickerInput').value = ticker;
            analyze();
        }

        async function analyze() {
            const ticker = document.getElementById('tickerInput').value.trim().toUpperCase();
            if (!ticker) return;

            const btn = document.getElementById('analyzeBtn');
            const loading = document.getElementById('loading');
            const results = document.getElementById('results');

            btn.disabled = true;
            loading.classList.remove('hidden');
            results.classList.add('hidden');
            document.getElementById('txHash').classList.add('hidden');

            try {
                const res = await fetch(`${API_URL}/api/analyze`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ ticker })
                });

                const data = await res.json();
                currentAnalysis = data;

                // Update UI
                document.getElementById('resultTicker').textContent = data.ticker;
                document.getElementById('resultPrice').innerHTML = data.price
                    ? `$${data.price.toFixed(2)} <span id="priceChange" class="${data.price_change?.includes('-') ? 'text-red-400' : 'text-green-400'} text-lg">${data.price_change || ''}</span>`
                    : '';
                document.getElementById('confidenceText').textContent = `${data.confidence}%`;
                document.getElementById('reasoningText').textContent = data.reasoning;
                document.getElementById('sourcesCount').textContent = data.sources_analyzed;
                document.getElementById('sentimentScore').textContent = data.sentiment_score.toFixed(2);
                document.getElementById('timestamp').textContent = new Date(data.timestamp).toLocaleTimeString();

                // Data source badge
                const dataSource = document.getElementById('dataSource');
                if (data.using_real_data) {
                    dataSource.innerHTML = '‚óè Real Data';
                    dataSource.className = 'text-xs px-2 py-1 rounded-full bg-green-500/20 text-green-400';
                } else {
                    dataSource.innerHTML = '‚óã Demo Data';
                    dataSource.className = 'text-xs px-2 py-1 rounded-full bg-yellow-500/20 text-yellow-400';
                }

                // Signal badge
                const badge = document.getElementById('signalBadge');
                if (data.signal === 'BUY') {
                    badge.textContent = 'üü¢ STRONG BUY';
                    badge.className = 'mt-4 md:mt-0 px-8 py-4 rounded-xl text-2xl font-black text-center bg-gradient-to-r from-green-500 to-green-600';
                } else if (data.signal === 'SELL') {
                    badge.textContent = 'üî¥ SELL';
                    badge.className = 'mt-4 md:mt-0 px-8 py-4 rounded-xl text-2xl font-black text-center bg-gradient-to-r from-red-500 to-red-600';
                } else {
                    badge.textContent = 'üü° HOLD';
                    badge.className = 'mt-4 md:mt-0 px-8 py-4 rounded-xl text-2xl font-black text-center bg-gradient-to-r from-yellow-500 to-yellow-600 text-gray-900';
                }

                // Confidence bar
                const fill = document.getElementById('confidenceFill');
                fill.style.width = `${data.confidence}%`;
                fill.className = `h-full rounded-full transition-all duration-1000 ${data.signal === 'BUY' ? 'bg-green-500' :
                        data.signal === 'SELL' ? 'bg-red-500' : 'bg-yellow-500'
                    }`;

                // Source breakdown
                if (data.source_breakdown) {
                    document.getElementById('newsPercent').textContent = `${data.source_breakdown.news}%`;
                    document.getElementById('newsBar').style.width = `${data.source_breakdown.news}%`;
                    document.getElementById('twitterPercent').textContent = `${data.source_breakdown.twitter}%`;
                    document.getElementById('twitterBar').style.width = `${data.source_breakdown.twitter}%`;
                    document.getElementById('redditPercent').textContent = `${data.source_breakdown.reddit}%`;
                    document.getElementById('redditBar').style.width = `${data.source_breakdown.reddit}%`;
                }

                // Key insights
                if (data.insights && data.insights.length) {
                    document.getElementById('keyInsights').innerHTML =
                        data.insights.map(i => `<li>${i}</li>`).join('');
                }

                // News headlines
                const newsSection = document.getElementById('newsSection');
                if (data.news_headlines && data.news_headlines.length) {
                    newsSection.classList.remove('hidden');
                    document.getElementById('newsList').innerHTML =
                        data.news_headlines.map(h => `<li class="flex items-start gap-2"><span class="text-gold-500">‚Ä¢</span> ${h}</li>`).join('');
                } else {
                    newsSection.classList.add('hidden');
                }

                loading.classList.add('hidden');
                results.classList.remove('hidden');

            } catch (err) {
                console.error('Analysis failed:', err);
                alert('Analysis failed. Please try again.');
            } finally {
                btn.disabled = false;
                loading.classList.add('hidden');
            }
        }

        async function verifyOnChain() {
            if (!currentAnalysis) return;

            const btn = document.getElementById('verifyBtn');
            btn.textContent = '‚è≥ Storing...';
            btn.disabled = true;

            try {
                const res = await fetch(`${API_URL}/api/verify?ticker=${currentAnalysis.ticker}&signal=${currentAnalysis.signal}&confidence=${currentAnalysis.confidence}`, {
                    method: 'POST'
                });
                const data = await res.json();

                const txHashEl = document.getElementById('txHash');
                txHashEl.innerHTML = `‚úÖ TX: <a href="${data.verification_url}" target="_blank" class="text-gold-500 hover:underline">${data.tx_hash.slice(0, 20)}...</a>`;
                txHashEl.classList.remove('hidden');

                btn.textContent = '‚úÖ Verified';
                btn.className = 'px-6 py-3 rounded-xl bg-gradient-to-r from-green-500 to-green-600 text-white font-semibold';
            } catch (err) {
                console.error('Verification failed:', err);
                btn.textContent = '‚ùå Failed';
            }
        }
    </script>
</body>

</html>